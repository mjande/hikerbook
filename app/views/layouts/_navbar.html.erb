<div class="navbar" data-controller='navbar' data-navbar-active-class='is-active'>
  <div class="navbar-brand">
    <a class="navbar-item" href="/posts">
      <span class="icon has-text-white">
        <i class="fa-solid fa-person-hiking fa-lg"></i>
      </span>
     <div class="title has-text-white ml-1">HikerBook</div>
    </a>

    <a class="navbar-burger has-text-white" data-action='navbar#show'>
      <span></span>
      <span></span>
      <span></span>
    </a>
  </div>

  <div class="navbar-menu" data-navbar-target='menu'>
    <div class="navbar-end is-flex is-align-items-center">
      <% if user_signed_in? %>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class='navbar-link is-arrowless has-text-white' id="notification-icon"> 
            <i class="fa-solid fa-bell"></i>
          </a>
          <div class="navbar-dropdown is-right">
            <% if current_user.received_requests.count == 0 %>
              <div class='navbar-item'>You don't have any friend requests yet. Check back later!</div>
            <% elsif current_user.received_requests.count >= 1 %>
              <div class="navbar-item">
                You have <%= current_user.received_requests.count %> pending friend requests.
              </div>
              <div class="navbar-item">
                <%= link_to 'View Friend Requests', friend_requests_path, data: { turbo_frame: 'middle-column' } %> 
              </div>

            <% end %>  
          </div>
        </div>
        

        <div class="navbar-item has-dropdown is-hoverable">
          <a class='navbar-link is-arrowless button is-white ml-5'>
            <%= current_user.username %>
          </a>
          <div class="navbar-dropdown is-right">
            <div class="navbar-item">
              <%= link_to 'Edit Account', edit_user_registration_path, class: 'button is-white' %>
            </div>
            
            <div class="navbar-item">
              <%= button_to "Logout", destroy_user_session_path, class: "button is-white", method: :delete %>
            </div>
          </div>
        </div>
      <% else %>
        <div class="navbar-item">
          <%= link_to 'Login', new_user_session_path, class: 'button is-white' %>
        </div>
      <% end %>
    </div>
  </div>
</div>
